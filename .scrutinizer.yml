checks:
  php:
    code_rating: true
    duplication: true
    variable_existence: true
    useless_call: true
    return_doc_comments: true
    parameter_doc_comments: true
    assignment_of_null_return: true
    no_unreachable_code: true
    no_trailing_whitespace: true
    one_class_per_file: true
    no_short_open_tag: true
    no_mixed_assignments: true
    no_debug_code: true

tools:
  external_code_coverage:
    timeout: 600

build:
  environment:
    php:
      version: '8.3'

  dependencies:
    before:
      - composer install --no-interaction

  tests:
    override:
      -
        command: |
          vendor/bin/phpunit --coverage-clover=coverage.xml
        coverage:
          file: coverage.xml
          format: clover

filter:
  excluded_paths:
    - tests/*
    - vendor/*

coding_style:
  php:
    spaces:
      around_operators:
        concatenation: true
    indentation:
      general:
        use_spaces: true
        size: 4
    braces:
      classes_functions:
        class: new-line
        function: same-line
